<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ…¶ç¥å‹•ç•«</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- æ…¶ç¥æŒ‰éˆ• -->
  <!-- <div class="container"> -->
  <div class="celebrate"></div>
  <button id="celebrate-btn" class="celebrate-btn">ğŸ‰</button>
  </div>

  <!-- <div id="confetti" class="confetti"></div> -->
  <div id="celebrate" class="celebrate"></div>

  <script src=>
    document.getElementById("celebrate-btn").addEventListener("click", (event) => {
      // é»æ“ŠæŒ‰éˆ•å¾ŒåŸ·è¡Œ
      const celebrateCelebrate = document.getElementById("celebrate"); // å–å¾—ç´™é›ªå®¹å™¨
      const numcelebrate = 500; // æ§åˆ¶ç´™é›ªæ•¸é‡

      const buttonRect = event.target.getBoundingClientRect(); // æŒ‰éˆ•çš„ä½ç½®ä¿¡æ¯
      const buttonCenterX = buttonRect.left + buttonRect.width / 2; // æŒ‰éˆ•ä¸­å¿ƒä½ç½®
      const buttonCenterY = buttonRect.top + buttonRect.height / 2; // æŒ‰éˆ•ä¸­å¿ƒä½ç½®

      for (let i = 0; i < numcelebrate; i++) {
        // å»ºç«‹ç´™é›ª
        const celebratePiece = document.createElement("div");
        celebratePiece.className = "celebrate-piece"; // è¨­å®šç´™é›ªé¡åˆ¥
        celebratePiece.style.backgroundColor = getRandomColor();
        celebratePiece.style.width = `${Math.random() * 10 + 5}px`; // è¨­å®šç´™é›ªå¤§å°
        celebratePiece.style.height = celebratePiece.style.width;
        celebratePiece.style.position = "absolute"; // è¨­å®šç´™é›ªä½ç½® = çµ•å°å®šä½
        celebratePiece.style.left = `${buttonCenterX}px`; // è¨­å®šç´™é›ªä½ç½® = æŒ‰éˆ•ä¸­å¿ƒ
        celebratePiece.style.top = `${buttonCenterY}px`;
        celebratePiece.style.transform = "translate(-50%, -50%)"; // åˆå§‹ä½ç½®å°é½Š
        celebratePiece.style.opacity = 0; // åˆå§‹ä¸é€æ˜åº¦ = 0

        celebrateCelebrate.appendChild(celebratePiece); // å°‡ç´™é›ªåŠ å…¥å®¹å™¨

        // Animation
        setTimeout(() => {
          const randomAngle = Math.random() * 360;
          const randomDistance = Math.random() * 800 + 400; // æ“´å¤§åˆ†ä½ˆç¯„åœ
          celebratePiece.style.transition =
            "transform 3s ease-out, opacity 4s ease-out"; // å¢åŠ å‹•ç•«æŒçºŒæ™‚é–“
          celebratePiece.style.transform = `
          translate(-50%, -50%) translate(${Math.cos(randomAngle) * randomDistance
            }px, ${Math.sin(randomAngle) * randomDistance}px)
        `; // ç´™é›ªç§»å‹•
          celebratePiece.style.opacity = 1; // ç´™é›ªé€æ˜åº¦

          // Make it fall down
          setTimeout(() => {
            celebratePiece.style.transition =
              "transform 4s ease-in, opacity 3s ease-in"; // å¾€ä¸‹æ‰è½çš„éæ¸¡
            celebratePiece.style.transform = `
            translate(-50%, -50%) translate(${Math.cos(randomAngle) * randomDistance
              }px, ${Math.sin(randomAngle) * randomDistance}px)
            translateY(${window.innerHeight}px)`; // å‘ä¸‹ç§»å‹•
          }, 2000);
        }, 10);

        // Remove piece after animation
        setTimeout(() => {
          celebratePiece.style.opacity = 0; // Fade out effect
          setTimeout(() => {
            celebratePiece.remove();
          }, 3000); // å»¶é•·åˆªé™¤å»¶é²ï¼Œä»¥ä¾¿å®Œæˆå‹•ç•«
        }, 3000);
      }
    });

    function getRandomColor() {
      // å–å¾—éš¨æ©Ÿé¡è‰²
      const letters = "0123456789ABCDEF"; // åå…­é€²ä½å­—æ¯
      let color = "#";
      for (let i = 0; i < 6; i++) {
        // ç”¢ç”Ÿå…­ä½é¡è‰²ç¢¼
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }

  </script>
</body>

</html>